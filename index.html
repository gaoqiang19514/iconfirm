<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="keywords" content="">
    
    <style>
        .iconfirm{
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow-x: hidden;
        }
        .iconfirm__bg{
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #000;
            opacity: .4;
            filter: alpha(opacity=40);  
        }
        .iconfirm__bg--hidden{
            opacity: 0;
        }
        .iconfirm__table{
            position: relative;
            display: table;
            width: 100%;
            height: 100%;
        }
        .iconfirm__cell{
            padding: 40px 0;
            display: table-cell;
            vertical-align: middle;            
        }
        .iconfirm__box{
            background: #fff;
            width: 500px;
            margin: auto;
        }
        .iconfirm__head{
            position: relative;
            padding: 30px 0 0 0;
        }
        .iconfirm__head:active{
            cursor: move;
        }
        .iconfirm__slogan{
            text-align: center;
            padding-bottom: 20px;
        }
        .iconfirm__slogan img{
            display: block;
            margin: auto;
            max-width: 100%;
        }
        .iconfirm__title{
            padding: 0 20px;
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .iconfirm__content{
        }
        .iconfirm__box{
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }
        .iconfirm__close-icon{
            cursor: pointer;
            position: absolute;
            right: 10px;
            top: 10px;
            width: 20px;
            line-height: 20px;
            font-size: 24px;
            text-align: center;
            opacity: .6;
        }
        .iconfirm__close-icon:hover{
            opacity: 1;
        }
        .iconfirm__main{
            padding: 20px;
        }
        .iconfirm__buttons--multipe {
            font-size: 0;
        }
        .iconfirm__buttons--multipe button{
            width: 50%;
        }
        .iconfirm__btn{
            color: #fff;
            outline: none;
            cursor: pointer;
            letter-spacing: .2em;
            width: 100%;
            border: 0;
            font-size: 16px;
            font-weight: bold;
            padding: 0;
            line-height: 50px;
            background: #eb5d5b;

        }
        @keyframes shake {
            10%,
            90% {
                -webkit-transform: translate3d(-2px, 0, 0);
                        transform: translate3d(-2px, 0, 0);
            }
            20%,
            80% {
                -webkit-transform: translate3d(4px, 0, 0);
                        transform: translate3d(4px, 0, 0);
            }
            30%,
            50%,
            70% {
                -webkit-transform: translate3d(-8px, 0, 0);
                        transform: translate3d(-8px, 0, 0);
            }
            40%,
            60% {
                -webkit-transform: translate3d(8px, 0, 0);
                        transform: translate3d(8px, 0, 0);
            }
        }

        .iconfirm__box.hilight-shake{
            animation: shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
            transform: translate3d(0, 0, 0);
        }

        .iconfirm__box--sacle{
            opacity: 0;
            transform: scale(.5);
        }

    </style>
    <title></title>
</head>
<body>

    <button class="example-1">解绑银行卡 1</button>
    <button class="example-2">提现 2</button>
    <button class="example-3">您还未绑定银行卡 3</button>
    <button class="example-4">激活存管账户 4</button>
    <button class="example-5">开通存管账户 5</button>
    <button class="example-6">提现说明 6</button>
    
    <!-- 解绑银行卡 -->
    <script id="J_unbind_bank_card_template" type="text/x-handlebars-template">
        <style>
            .unbind-bank-card__box{
                margin: 0 0 10px 0;
            }
            .unbind-bank-card__box dt{
                float: left;
            }
            .unbind-bank-card__box dd{
                margin-left: 80px;
            }

            .unbind-bank-card .input{
                outline: none;
                font-size: 16px;
                width: 150px;
                padding: 12px 10px;
                border: 1px solid #eaeaea;
            }
            .unbind-bank-card__message{
                font-size: 14px;
                line-height: 2;
                color: #eb5d5b; 
            }
            .unbind-bank-card__tips{
                font-size: 14px;
                color: #888;
                margin: .5em 0 1em 0;
            }
            .unbind-bank-card__btn-wrap{
                text-align: center;
            }
            .unbind-bank-card__btn{
                cursor: pointer;
                padding: 0 80px;
                border: 0;
                color: #fff;
                font-size: 16px;
                letter-spacing: .2em;
                font-weight: bold;
                outline: none;
                line-height: 44px;
                background: #eb5d5b;
            }
            .unbind-bank-card__btn--loading{
                cursor: default;
                background: #ccc;
            }
            .unbind-bank-card__btn--loading img{
                display: inline;
            }
            .unbind-bank-card__btn--getcode{
                padding: 0 20px;
            }
            .unbind-bank-card__loading{
                display: none;

                vertical-align: middle;
                width: 30px;
                height: 30px;
            }
        </style>
        <div class="unbind-bank-card">
            <dl class="unbind-bank-card__box">
                <dt>手机号：</dt>
                <dd><span id="J_bind_bank_card_phone">186****8888</span></dd>
            </dl>
            <dl class="unbind-bank-card__box">
                <dt>验证码：</dt>
                <dd> 
                    <input class="input" type="text" placeholder="请输入手机验证码">
                    <button class="unbind-bank-card__btn unbind-bank-card__btn--getcode">
                        <img class="unbind-bank-card__loading" src="https://www.icaifu.com/images/p2p/loading.gif" alt="加载中">获取验证码</button>
                </dd>
            </dl>

            <dl class="unbind-bank-card__box">
                <dt></dt>
                <dd>
                    <div class="unbind-bank-card__message"></div>
                    <div class="unbind-bank-card__tips">解绑后，您的i财富账户将不能充值、提现。</div>
                </dd>
            </dl>
            <div class="unbind-bank-card__btn-wrap">
                <button id="J_submit_btn" class="unbind-bank-card__btn">
                        <img class="unbind-bank-card__loading" src="https://www.icaifu.com/images/p2p/loading.gif" alt="加载中">
                    确定</button>
            </div>
        </div>
    </script>

    <!-- 提现说明 -->
    <script id="J_withdraw_template" type="text/x-handlebars-template">
        <style>
            .withdraw-explain{
                color: #333;
                font-size: 14px;
                line-height: 1.7;
            }
            .withdraw-explain ol{
                margin: 0;
                padding: 0 0 0 1.5em;
            }
            .withdraw-explain table{
                border-collapse: collapse;
                width: 100%;
                margin: 10px 0;
            }
            .withdraw-explain th,
            .withdraw-explain td{
                padding: 10px;
                vertical-align: middle;
                border: 1px solid #898996;
            }
        </style>
        <div class="withdraw-explain">
            <ol>
                <li>提现费用为********，不足************</li>
                <li>单笔提现最低10元起。</li>
                <li>
                    提现金额和到账时间参考，具体到账时间以银行实际收款时间而定。
                    <table>
                        <tr>
                            <th>单笔金额</th>
                            <th>处理时间</th>
                            <th>到账时间</th>
                        </tr>
                        <tr>
                            <td>小于等于5万</td>
                            <td>7×24 小时</td>
                            <td>两小时内</td>
                        </tr>
                        <tr>
                            <td rowspan="3">大于5万小于50万</td>
                            <td>工作日00:10 到17:00</td>
                            <td>实时到账</td>
                        </tr>
                        <tr>
                            <td>工作日17:00 到00:00</td>
                            <td>不受理</td>
                        </tr>
                        <tr>
                            <td>双休日及法定节假日</td>
                            <td>两小时内</td>
                        </tr>
                        <tr>
                            <td rowspan="3">大于等于50万</td>
                            <td>工作日00:10 到17:00</td>
                            <td>实时到账</td>
                        </tr>
                        <tr>
                            <td>工作日17:00 到00:00</td>
                            <td>不受理</td>
                        </tr>
                        <tr>
                            <td>双休日及法定节假日</td>
                            <td>不受理</td>
                        </tr>                
                    </table>
                </li>
                <li>当月有投资或回款到期的用户可享受3次免费提现福利。</li>
                <li>提现失败，这笔资金将被冻结，两个工作日左右人工处理，解冻资金，需用户再次发起提现。</li>
            </ol>
        </div>
    </script>

<script src="https://cdn.bootcss.com/jquery/1.9.1/jquery.min.js"></script>
<script src="./js/jquery-iconfirm.js"></script>
<script>

    // 解绑银行卡
    $('.example-1').on('click', function(e){
        $.idialog({
            title: '解绑银行卡',
            content: $('#J_unbind_bank_card_template').html(),
            backgroundDismiss: false,
            onOpen: function(){
                var that              = this;
                var $phone            = this.$content.find('#J_bind_bank_card_phone');
                var $input            = this.$content.find('.input');
                var $message          = this.$content.find('.unbind-bank-card__message');
                var $getCode          = this.$content.find('.unbind-bank-card__btn--getcode');
                var $submitBtn        = this.$content.find('#J_submit_btn');
                var $getCodeLoading   = $getCode.find('.unbind-bank-card__loading');
                var $submitBtnLoading = $submitBtn.find('.unbind-bank-card__loading');

                $input.on('focus', function(){
                    $message.text('');
                    $input.css('border', '');
                });

                // ----------------------------------------------------------------------------------------
                
                // 获取验证码
                $getCode.on('click', function(e){
                    if($(this).attr('disable')){return;}

                    var phone = $phone.text();

                    var getCodePromise = $.Deferred();
                    $.when(getCodePromise).then(function(data){
                        console.log(data);
                    }).always(function(data){
                        $getCode.removeClass('unbind-bank-card__btn--loading').attr('disable', '');
                    });

                    var getCode = function(phone, callback){
                        setTimeout(function(){
                            getCodePromise.resolve({
                                type: 'success',
                                code: 512652
                            });
                        }, 2000);
                    };

                    $getCode.addClass('unbind-bank-card__btn--loading').attr('disable', 'disable');
                    getCode(phone);
                });

                // ----------------------------------------------------------------------------------------
                
                // 提交手机号与验证码
                $submitBtn.on('click', function(e){
                    if($(this).attr('disable')){return;}

                    var phone = $phone.text();
                    var code  = $.trim($input.val());

                    var submitPromise = $.Deferred();
                    $.when(submitPromise).then(function(data){
                        if(data.type === 'success'){
                            // that.close();
                            $.ialert('恭喜你，解绑成功');
                        }else{
                            $.ialert('验证码错误');
                        }
                    }).always(function(data){
                        $submitBtn.removeClass('unbind-bank-card__btn--loading').attr('disable', '');
                    });

                    var submitUnbindRequest = function(phone, code){
                        var flag = Math.round(Math.random());
                        
                        if(flag){
                            setTimeout(function(){
                                submitPromise.resolve({
                                    type: 'success',
                                    msg: '解绑成功'
                                });
                            }, 2000);
                        }else{
                            setTimeout(function(){
                                submitPromise.resolve({
                                    type: 'error',
                                    msg: '解绑失败'
                                });
                            }, 2000);
                        }
                    };

                    if(phone && code){
                        $submitBtn.addClass('unbind-bank-card__btn--loading').attr('disable', 'disable');;
                        submitUnbindRequest(phone, code);
                    }else{
                        $.ialert('验证码错误');
                    }
                });
            }
        });
    });

    // 提现
    $('.example-2').on('click', function(e){
        $.idialog('提现', '<div style="color: #999; padding: 20px 20px 30px 20px;">提现单笔金额大于等于50万，提现时间工作日17:00到00:00不受理，您可以分拆提现金额或提现时间。</div>');
    });

    // 您还未绑定银行卡
    $('.example-3').on('click', function(e){
        $.ialert('提醒', '<div style="padding: 20px 20px 20px 20px; font-size: 16px; font-weight: bold; text-align: center;">您还未绑定银行卡</div>');
    });

    // 激活存管账户
    $('.example-4').on('click', function(e){
        $.ialert({
            slogan: '<img src="./images/logo.png" alt="激活存管账户">',
            title: '激活存管账户',
            content: '<div style="color: #999; padding: 0 20px 20px 20px;">i财富携手上饶银行的资金存管系统已上线，为了保障您的资金安全，请开通上饶银行资金存管账户。</div>',
            buttons: {
                ok: {
                    text: '立即激活',
                    action: function(){
                        window.location.href = 'https://www.baidu.com';
                        return false;
                    }
                }
            }
        });
    });

    // 开通存管账户
    $('.example-5').on('click', function(e){
        $.ialert({
            slogan: '<img src="./images/logo.png" alt="">',
            title: '开通存管账户',
            content: '<div style="color: #999; padding: 0 20px 20px 20px;">i财富携手上饶银行的资金存管系统已上线，为了保障您的资金安全，请开通上饶银行资金存管账户。</div>',
            buttons: {
                ok: {
                    text: '立即开通',
                    action: function(){
                        window.location.href = 'https://www.baidu.com';
                        return false;
                    }
                }
            }
        });
    });

    // 提现说明
    $('.example-6').on('click', function(e){
        $.idialog({
            width: 800,
            title: '提现说明',
            content: $('#J_withdraw_template').html(),
            backgroundDismiss: true
        });
    });

</script>
</body>
</html>
        